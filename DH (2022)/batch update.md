subtask Id 로 모든 work, job을 조회해 작업 완료인 경우 검수완료 stage로 변경한다. 이는 검수없이 데이터 추출을 하기 위함이다. 현재 데이터를 요청할 때 stage 4, 5의 작업들만 찾는다.

확인해야될 점

1. work에 대해 job이 생성될 경우, job
2. job의 작업이 Reject 당했을 경우 work의 stage는?
3. 등 job의 스테이지의 변경에 따라서 work 스테이지가 어떻게 바뀌는지 확인 필요

파일 업로드를 하면
Work이 생성됨과 동시에 Job이 생성되고
작업자가 할당되면 둘 다 stage 2로 업데이트 된다.

작업을 완료하면 work과 job의 stage가 3으로 바뀐다
검수 완료하면 work, job의 stage가 4로 바뀐다

< 어드민이 재작업할 때 >

< 작업자가 재작업할 때 >
검수자가 작업을 거절하면 work, job의 stage가 9로 바뀐다
작업자가 재작업을 하면 work stage가 13으로 바뀐다
작업자가 재작업을 하면 새로운 job이 생겨 stage가 13으로 바뀐다 (즉 stage 9 인 job하나 새로 생긴 재작업된 stage 13 job 하나가 생김 총 2개)

< 검수자가 재작업할 때 >
검수자가 재작업하면 자동으로 이전 job의 stage가 9로 바뀌고
재작업된 새로운 job이 생겨 work, job stage가 4로 바뀐다.

< 고려 안해도 되는 부분 >
< 클라이언트가 재작업할 때 >
검수자가 리뷰를 승인하면 work, job(새로 생겨난 stage13였던)의 stage가 4로 바뀐다
검수자가 리뷰 승인한 걸 클라이언트가 재작업하면 리젝된 job은 6
재작업된 job이 새로 생겨 stage가 5로 바뀐다
work의 stage는 5로 업데이트가 된다

데이터 요청할 때 stage 4, 5의 결과만 찾는다
따라서 클라이언트가 검수했을 땐 자동으로 5로 바뀌기 때문에 이 부분에 대해서 stage변경해줄 필요가 없다.

따라서 stage가 3, 13일 때만 stage 4로 배치 업데이트를 해준다.
